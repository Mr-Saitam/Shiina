const { saveJSON } = require("../utils/utilidades.js");

module.exports = {
	eliminar: function (clave, split_object, global_object, self, save) {

		var [...args] = clave.split(split_object)
		var object_data = global_object[self.object_id]

		for(var key of args) {
			if(!object_data.hasOwnProperty(key)) return false
			if(key == args[args.length-1]) {
				delete object_data[key]
				if(!save) return true
				saveJSON(self, global_object[self.object_id])
				return true
			}
			else {
				object_data = object_data[key]
			}
		}
	}
}